function result = ILI_pro(data_pro,para1,cum_ILILAB,cutoff)

data1 = data_pro;
data1(:,4) = 1;
data1(data1(:,2) < cutoff & data1(:,3) > cutoff,4) = 0;
data1(data1(:,2) >= cutoff,4) = 2;


result = (data1(:,4) == 1).*(para1(1,1)*(data1(:,1)<=18)+para1(1,2)*(data1(:,1)<=50&data1(:,1)>18)+para1(1,3)*(data1(:,1)>50)) ...
                            .*(cum_ILILAB(data1(:,3))-cum_ILILAB(data1(:,2)))' + ...
         (data1(:,4) == 2).*(para1(1,4)*(data1(:,1)<=18)+para1(1,5)*(data1(:,1)<=50&data1(:,1)>18)+para1(1,6)*(data1(:,1)>50)) ...
                            .*(cum_ILILAB(data1(:,3))-cum_ILILAB(data1(:,2)))' + ...
         (data1(:,4) == 0).*( (para1(1,1)*(data1(:,1)<=18)+para1(1,2)*(data1(:,1)<=50&data1(:,1)>18)+para1(1,3)*(data1(:,1)>50)) ...
                            .*(cum_ILILAB(cutoff)-cum_ILILAB(data1(:,2)))' + ...                    
                            (para1(1,4)*(data1(:,1)<=18)+para1(1,5)*(data1(:,1)<=50&data1(:,1)>18)+para1(1,6)*(data1(:,1)>50)) ...
                            .*(cum_ILILAB(data1(:,3))-cum_ILILAB(cutoff))' );
                        
end